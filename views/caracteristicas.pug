extends ./layout/index.pug
block compartircontenido
    .row.justify-content-center.col
        h2 Hotel #{hotel[0].nombre}
    .row.justify-content-center.col
        .col-md-8 
            form(action="/uploadImagenHtl" method="POST", id="uploadForm", enctype="multipart/form-data")
                .form-group
                    input#myFiles(type="file",name="myFiles" accept="image/*", multiple)
                input.btn.btn-success.btn-block(type="submit")
    main.container.mt-1
        if  hotel[0].id_grt != null
            .row.justify-content-center.col
                h3 Gerente: #{gerente[0].nombre} #{gerente[0].ap_paterno} #{gerente[0].ap_materno}
            .row.justify-content-center.col                              
                h5 Numero: #{gerente[0].telefono}
        .row.justify-content-center.col
            h2 Habitaciones
        .row
            each habitacion in habitaciones
                .col-md.col-lg-4.mv-4 
                    .card 
                        .card-body 
                            h2=habitacion.nombre 
                            p 
                            | Piso: #{habitacion.piso}
                            if habitacion.refrigerador
                                p Refrigerador: Si
                            else 
                                p Refrigerador: No
         
        
    //- script(type='text/javascript').
    //-         const form = document.getElementById('uploadForm')
    //-         const sendFiles = async () => {
    //-             const myFiles = document.getElementById('myFiles').files
    //-             const formData = new FormData()
    //-             Object.keys(myFiles).forEach(key => {
    //-                 formData.append(myFiles.item(key).name, myFiles.item(key))
    //-             })
    //-             const response = await fetch('http://localhost:1900/uploadImagenHtl', {
    //-                 method: 'POST',
    //-                 body: formData
    //-             })
    //-             const json = await response.json()
    //-             const h2 = document.querySelector('h2')
    //-             h2.textContent = `Status: ${json?.status}`
    //-             const h3 = document.querySelector('h3')
    //-             h3.textContent = json?.message
    //-             console.log(json)
    //-         }
    //-         form.addEventListener('submit', (e) => {
    //-                 console.log()
    //-                 e.preventDefault()
    //-                 sendFiles()
    //-         })